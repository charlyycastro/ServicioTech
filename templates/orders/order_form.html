<div class="col-12">
  <div class="card shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
      <strong>Equipos</strong>
      <button id="add-equipo" type="button" class="btn btn-sm btn-outline-primary">Agregar equipo</button>
    </div>
    <div class="card-body p-0">

      {{ equip_formset.management_form }}

      <div class="table-responsive">
        <table class="table mb-0 align-middle" id="equipos-table">
          <thead class="bg-light-subtle">
            <tr>
              <th style="width:16%">Marca</th>
              <th style="width:16%">Modelo</th>
              <th style="width:16%">Serie</th>
              <th>Descripci√≥n</th>
              <th style="width:110px">Acciones</th>
            </tr>
          </thead>
          <tbody>
            {% for f in equip_formset.forms %}
              <tr class="equipo-row">
                <td>{{ f.marca }}</td>
                <td>{{ f.modelo }}</td>
                <td>{{ f.serie }}</td>
                <td>{{ f.descripcion }}</td>
                <td class="text-nowrap">
                  {{ f.id }}        {# hidden PK #}
                  {{ f.DELETE }}    {# checkbox delete (lo ocultamos por CSS) #}
                  <button type="button" class="btn btn-link text-danger btn-sm btn-del-equipo">
                    Eliminar
                  </button>
                </td>
              </tr>
            {% empty %}
              {# sin filas iniciales #}
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{# plantilla oculta para filas nuevas (usa __prefix__) #}
<template id="equip-row-template">
  <tr class="equipo-row">
    {% with f=equip_formset.empty_form %}
      <td>{{ f.marca }}</td>
      <td>{{ f.modelo }}</td>
      <td>{{ f.serie }}</td>
      <td>{{ f.descripcion }}</td>
      <td class="text-nowrap">
        {{ f.id }}
        {{ f.DELETE }}
        <button type="button" class="btn btn-link text-danger btn-sm btn-del-equipo">
          Eliminar
        </button>
      </td>
    {% endwith %}
  </tr>
</template>
